(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{382:function(t,e,l){"use strict";l.r(e);var a=l(45),i=Object(a.a)({},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[l("h2",{attrs:{id:"常用参数说明"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#常用参数说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用参数说明")]),t._v(" "),l("h4",{attrs:{id:"_1-docker-构建常用参数说明"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_1-docker-构建常用参数说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. Docker 构建常用参数说明")]),t._v(" "),l("table",[l("thead",[l("tr",[l("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),l("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),l("tbody",[l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-i")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("以交互模式运行容器，通常与 -t 同时使用；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-t")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("为容器重新分配一个伪输入终端，通常与 -i 同时使用；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-d")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("后台运行容器，并返回容器ID；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-p")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定端口映射，格式为：主机(宿主)端口:容器端口")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v('–name="name"')]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("为容器指定一个名称；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–net=“bridge”")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–link=[]")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("添加链接到另一个容器；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–expose=[]")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("开放一个端口或一组端口；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–volume , -v")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("绑定一个卷")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–w")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定工作目录")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v('-e node="aaa"')]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("设置环境变量；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-P")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("随机端口映射，容器内部端口随机映射到主机的高端口")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v('-h "shy"')]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器的hostname；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–env-file=[]")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("从指定文件读入环境变量；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-a stdin")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–dns 8.8.8.8")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器使用的DNS服务器，默认和宿主一致；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–dns-search example.com")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("指定容器DNS搜索域名，默认和宿主一致；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("–cpuset=“0-2” or --cpuset=“0,1,2”")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("绑定容器到指定CPU运行；")])]),t._v(" "),l("tr",[l("td",{staticStyle:{"text-align":"left"}},[t._v("-m")]),t._v(" "),l("td",{staticStyle:{"text-align":"left"}},[t._v("设置容器使用内存最大值；")])])])]),t._v(" "),l("h4",{attrs:{id:"_2-xxx"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_2-xxx","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. XXX")]),t._v(" "),l("h4",{attrs:{id:"n-docker-一些备注"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#n-docker-一些备注","aria-hidden":"true"}},[t._v("#")]),t._v(" N. Docker 一些备注")]),t._v(" "),l("p",[t._v("1、docker容器运行必须有一个前台进程， 如果没有前台进程执行，容器认为空闲，就会自行退出\n2、容器运行的命令如果不是那些一直挂起的命令（ 运行top，tail、循环等），就是会自动退出\n3、这个是 docker 的机制问题")]),t._v(" "),l("p",[t._v("解决方案\n方案1：\n网上有很多介绍，就是起一个死循环进程，让他不停的循环下去，前台永远有进程执行，那么容器就不会退出了,以centos为例\nshell>docker run -d centos /bin/sh -c “while true; do echo hello world; sleep 1; done”\n缺点： 命令太冗长了，还占用一个终端")]),t._v(" "),l("p",[t._v("方案2：\nshell>docker run -itd centos /bin/bash\n添加-it 参数交互运行\n添加-d 参数后台运行\n这样就能启动一个一直停留在后台运行的Centos了。")])])},[],!1,null,null,null);e.default=i.exports}}]);