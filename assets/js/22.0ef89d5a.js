(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{383:function(n,e,a){"use strict";a.r(e);var t=a(45),s=Object(t.a)({},function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h2",{attrs:{id:"使用例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用例子","aria-hidden":"true"}},[n._v("#")]),n._v(" 使用例子")]),n._v(" "),a("h4",{attrs:{id:"一-docker-创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-docker-创建容器","aria-hidden":"true"}},[n._v("#")]),n._v(" 一. Docker 创建容器")]),n._v(" "),a("ol",[a("li",[n._v("直接创建")])]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("创建一个伪终端时刻保持连接，并使用bash作为交互命令\ndocker run -itd -p 8088:8080 node bash\n")])])]),a("h4",{attrs:{id:"二-dockerfile-创建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-dockerfile-创建镜像","aria-hidden":"true"}},[n._v("#")]),n._v(" 二. Dockerfile 创建镜像")]),n._v(" "),a("blockquote",[a("p",[n._v("一般结合第三种一起使用")])]),n._v(" "),a("ol",[a("li",[n._v("docker build -t ng:v5 .")])]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('FROM nginx\nRUN apt-get update\nCOPY a.txt /www/ \nADD a.txt /www/  \nENV NODE_VERSION 7.2.0\nEXPOSE []\nWORKDIR\nCMD ["php fpm","<param1>","<param2>",...] \n# 定义匿名数据卷。在启动容器时忘记挂载数据卷，会自动挂载到匿名卷。\nVOLUME [""] \n')])])]),a("h4",{attrs:{id:"三-使用docker-compose-创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-使用docker-compose-创建容器","aria-hidden":"true"}},[n._v("#")]),n._v(" 三. 使用docker-compose 创建容器")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('version: "3" #版本\nservices: #服务\n  nginx: #nginx服务\n    build: . #构建的dockerfile位置\n    image: nginx #构建镜像名称 和build不可同时存在\n    container_name: "nginx_common" #构建容器名称\n    networks: #使用的网络 不设置则默认分配\n    ports: #端口映射关系\n    depends_on: #依赖关系 无可不设置\n    links: #链接容器 无可不设置\n    volumes: #共享目录\n')])])]),a("p",[n._v("简单例子")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('version: "3"\nservices:\n  nginx:\n    build: ./nginx\n    container_name: "nginx_common"\n    networks:\n      - "net1"\n    ports:\n      - "80:80"\n    depends_on:\n      - "php71"\n    links:\n      - "php71"\n    volumes:\n      - ./www:/www\n  php71:\n    build: ./php71\n    container_name: "php7.1"\n    networks:\n      - "net1"\n    ports:\n      - "8002:8002"\n    volumes:\n      - ./www:/www\nnetworks:\n  net1:\n    driver: bridge\n')])])])])},[],!1,null,null,null);e.default=s.exports}}]);